import appm from 'js/app-manager'

class {
    onMount() {
        this.popupComponent = this.getComponent('popup')
    }

    // Functions.

    hide() {
        if(!this.visible) {
            return
        }

        this.popupComponent.hide()
    }

    hidden() {
        this.visible = false
    }

    keyPressed(event) {
        if(event.keyCode == 13) {

        }
    }

    show() {
        if(this.visible) {
            return
        }

        this.visible = true

        this.popupComponent.show()
    }
}

$ const trNewEmail = appm.tr('newEmail') || {}

<popup.popup-newemail
    key='popup'
    class=input.class
    title=trNewEmail.title
    on-hidden('hidden')
    on-keyPressed('keyPressed')
>
    <div.contents>
        <div.wrapper>
            <text-p.text>
                $!{trNewEmail.text}
            </text-p>

            <button-text.button-agree.big.strong text=trNewEmail.buttonAgree on-click('hide') />
        </div>
    </div>
</popup>

style.less {
    .popup-newemail {
        --wrapper-spacing: 30px;

        >.wrapper {
            >.panel {
                >.contents {
                    display: flex;

                    >.wrapper {
                        align-items: flex-start;
                        display: flex;
                        flex-direction: column;
                        gap: var(--wrapper-spacing);
                        padding: var(--app-padding-bigger);
                        width: var(--wrapper-width);

                        >.text {
                            color: var(--color-text2);

                            >a {
                                color: var(--color-accent1);
                            }
                        }
                    }
                }
            }
        }
    }
};